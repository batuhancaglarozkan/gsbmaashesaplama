<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<div style="background: rgba(230, 57, 70, 0.1); border: 2px dashed #e63946; padding: 12px; border-radius: 12px; margin: 15px auto; font-size: 13px; color: #e63946; font-weight: 700; line-height: 1.5; text-align: center; max-width: 90%;">
    <i class="fas fa-exclamation-triangle"></i> 14 Mart 2026 tarihinde Ã¶denecek olan maaÅŸlarÄ±n bir kÄ±smÄ± %20 vergiye gireceÄŸinden dolayÄ± programÄ±n bu dÃ¶nem iÃ§in birebir hesaplama yapmasÄ± mÃ¼mkÃ¼n deÄŸildir.
</div>
 <div style="background: rgba(26, 35, 126, 0.1); border: 2px dashed #1a237e; padding: 12px; border-radius: 12px; margin: 15px auto; font-size: 13px; color: #1a237e; font-weight: 700; line-height: 1.5; text-align: center; max-width: 90%;"> 
  â—14 Mart 2026 tarihinde Ã¶denecek maaÅŸlar, ilgili ayÄ±n 28 Ã§ekmesinden dolayÄ± 28 gÃ¼nlÃ¼k yevmiye Ã¼zerinden hesaplanacaktÄ±r. Bundan dolayÄ± bir Ã¶nceki aya kÄ±yasen 3 gÃ¼nlÃ¼k yevmiye eksik yatacaktÄ±r.
</div>
<title>GSB MaaÅŸ Hesaplama Robotu</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<style>
:root {
  --bg-color: linear-gradient(135deg,#e6f5ec,#ffffff);
  --box-bg: #ffffff;
  --text-color: #333;
  --border-color: #e1eee7;
  --input-border: #dce8e1;
  --label-color: #444;
}

body{ font-family: 'Segoe UI', Arial, sans-serif; background: var(--bg-color); padding:15px; color: var(--text-color); }
.header-container { text-align: center; margin-bottom: 25px; position: relative; }
h1{ color:#1f7a4f; margin-bottom: 5px; font-weight: 800; font-size: 22px;}
.version-badge { background: #1f7a4f; color: white; font-size: 10px; padding: 3px 10px; border-radius: 50px; font-weight: bold; display: inline-block; vertical-align: middle; }

.social-bar-wrapper { display: flex; justify-content: center; align-items: center; margin-top: 15px; position: relative; min-height: 50px; }
.social-icons { display: flex; gap: 10px; }
.social-icons a { text-decoration: none; font-size: 18px; width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: var(--box-bg); box-shadow: 0 4px 10px rgba(0,0,0,0.1); transition: 0.3s ease; }
.social-icons a.ins { color: #E1306C; }
.social-icons a.fac { color: #1877F2; }
.social-icons a.twi { color: #000000; }

.visitor-btn { position: absolute; right: 0; background: #1f7a4f; color: white; padding: 6px 12px; border-radius: 10px; font-size: 11px; font-weight: bold; display: flex; flex-direction: column; align-items: center; box-shadow: 0 4px 8px rgba(31, 122, 79, 0.15); line-height: 1.1; min-width: 90px; }
.visitor-btn span:first-child { font-size: 8px; opacity: 0.8; text-transform: uppercase; }
.v-count { font-size: 13px; }

@media (max-width: 768px) { 
  .social-bar-wrapper { flex-direction: column; gap: 15px; } 
  .visitor-btn { position: static; margin-top: 10px; } 
  .grid-container { grid-template-columns: 1fr !important; }
  .net-tutar-rakam { font-size: 32px !important; }
  h1 { font-size: 18px; }
  .receipt-container { padding: 15px !important; }
  .receipt-row { font-size: 12px !important; gap: 10px; }
}

.box{ background: var(--box-bg); padding:20px; border-radius:24px; box-shadow:0 15px 40px rgba(0,0,0,0.08); max-width:850px; margin:auto; border: 1px solid var(--border-color); }
.section-title { background: #1f7a4f; color: white; padding: 12px 18px; border-radius: 10px; margin-top: 25px; margin-bottom: 12px; font-size: 14px; font-weight: bold; text-transform: uppercase; letter-spacing: 0.5px; }
.grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
label{display:block; margin-top:8px; font-weight:700; font-size: 12px; color: var(--label-color);}
.sub-label { font-size: 10px; color: #777; font-weight: 500; display: block; margin-top: 2px; line-height: 1.2; }

.info-note { grid-column: 1 / -1; background: rgba(31, 122, 79, 0.05); border-left: 3px solid #1f7a4f; padding: 10px 14px; font-size: 11px; color: #1f7a4f; font-weight: 600; margin-top: 8px; border-radius: 4px; line-height: 1.4; }

select,input{ width:100%; padding:10px; border-radius:10px; border:1.5px solid var(--input-border); margin-top:4px; box-sizing: border-box; font-size: 14px; background: var(--box-bg); color: var(--text-color); }

.toggle-btn { background: #e1eee7; color: #1f7a4f; border: 2px solid #1f7a4f; padding: 5px 10px; border-radius: 8px; cursor: pointer; font-size: 11px; font-weight: bold; margin-top: 5px; transition: 0.3s; width: auto; display: inline-block; }
.toggle-btn.active { background: #1f7a4f; color: white; }
#ikinciYemekInputContainer { display: none; margin-top: 5px; }

.net-tutar-card { background: linear-gradient(135deg, #1f7a4f 0%, #0d3b25 100%); margin-top: 30px; padding: 40px 20px; border-radius: 30px; text-align: center; box-shadow: 0 20px 45px rgba(31, 122, 79, 0.3); border: 2px solid rgba(255,255,255,0.1); position: relative; word-wrap: break-word; }
.net-tutar-title { color: #a8d5be; font-size: 13px; text-transform: uppercase; letter-spacing: 3px; font-weight: 800; margin-bottom: 5px;}
.net-tutar-rakam { font-size: 48px; color: #ffffff; font-weight: 900; letter-spacing: -1px; margin: 0; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3)); display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; }

button{ margin-top:20px; padding:15px; width:100%; background:#1f7a4f; color:#fff; border:none; border-radius:15px; cursor:pointer; font-weight: bold; font-size: 15px; box-shadow: 0 4px 15px rgba(31, 122, 79, 0.2); transition: 0.2s; }

.receipt-container { background: #fff; color: #333; padding: 25px; border-radius: 5px; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-top: 20px; font-family: 'Courier New', Courier, monospace; border-top: 8px solid #1f7a4f; overflow-wrap: break-word; }
.receipt-header { text-align: center; border-bottom: 2px dashed #ccc; padding-bottom: 15px; margin-bottom: 15px; }
.receipt-row { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; font-size: 13px; font-weight: bold; border-bottom: 1px dotted #eee; padding-bottom: 4px; }
.receipt-row span:first-child { flex: 1; padding-right: 5px; }
.receipt-row span:last-child { white-space: nowrap; }
.receipt-total { border-top: 2px solid #333; margin-top: 15px; padding-top: 10px; font-size: 18px; font-weight: 900; }
.receipt-footer { text-align: center; font-size: 10px; margin-top: 20px; border-top: 2px dashed #ccc; padding-top: 10px; }
.aidat-row { color: #e63946; }
.tediye-notu { color: #e63946; font-size: 10px; font-weight: bold; display: block; margin-top: 2px; }

.footer-note { text-align: center; font-size: 11px; color: #888; margin-top: 20px; font-weight: 600; }
</style>
</head>
<body>

<div id="giris" class="box">
  <div class="header-container">
    <h1>MaaÅŸ Hesaplama Robotu (GSB 10 Nolu Ä°ÅŸkolu)</h1>
    <span class="version-badge">v1.5 | 28 Åubat 2026 GÃœNCEL</span>
    <div class="social-bar-wrapper">
        <div class="social-icons">
          <a href="http://instagram.com/batuhancaglarozkan" target="_blank" class="ins"><i class="fab fa-instagram"></i></a>
          <a href="https://facebook.com/batuhancaglarozkann" target="_blank" class="fac"><i class="fab fa-facebook-f"></i></a>
          <a href="https://x.com/BatuhanOzkann" target="_blank" class="twi"><i class="fab fa-x-twitter"></i></a>
        </div>
        <div class="visitor-btn">
          <span>ZÄ°YARETÃ‡Ä° SAYISI</span>
          <span class="v-count">55.247</span>
        </div>
    </div>
  </div>
  <label>Åifre</label>
  <input type="password" id="sifre" placeholder="Åifreyi giriniz">
  <button onclick="kontrol()">GÄ°RÄ°Å YAP</button>
</div>

<div id="icerik" style="display:none">
<div class="header-container">
  <h1>MaaÅŸ Hesaplama Robotu (GSB 10 Nolu Ä°ÅŸkolu)</h1>
  <span class="version-badge">v1.5 | 28 Åubat 2026 GÃœNCEL</span>
  <div class="social-bar-wrapper">
      <div class="social-icons">
        <a href="http://instagram.com/batuhancaglarozkan" target="_blank" class="ins"><i class="fab fa-instagram"></i></a>
        <a href="https://facebook.com/batuhancaglarozkann" target="_blank" class="fac"><i class="fab fa-facebook-f"></i></a>
        <a href="https://x.com/BatuhanOzkann" target="_blank" class="twi"><i class="fab fa-x-twitter"></i></a>
      </div>
      <div class="visitor-btn">
        <span>ZÄ°YARETÃ‡Ä° SAYISI</span>
        <span class="v-count">55.247</span>
      </div>
  </div>
</div>

<div class="box">
  <div class="section-title">1. BÃ–LÃœM: Temel Bilgiler ve Vergi Dilimi</div>
  <div class="grid-container">
    <div>
      <label>Gelir Vergisi Dilimi SeÃ§iniz*</label>
      <select id="vergiOrani">
        <option value="0.71491" data-val="0.15">1. Dilim (%15)</option>
        <option value="0.67241" data-val="0.20">2. Dilim (%20)</option>
        <option value="0.61291" data-val="0.27">3. Dilim (%27)</option>
        <option value="0.54491" data-val="0.35">4. Dilim (%35)</option>
      </select>
    </div>
    <div>
      <label>BrÃ¼t Yevmiye Ãœcreti SeÃ§iniz*</label>
      <select id="brutYevmiye">
        <option value="2142.43">2142,43 TL</option>
        <option value="2111.63">2111,63 TL</option>
      </select>
    </div>
    <div>
      <label>Kadro/Unvan SeÃ§iniz *</label>
      <select id="kadro" onchange="kadroGuncelle()">
        <option value="">KADRO SEÃ‡Ä°NÄ°Z</option>
        <option>Temizlik Personeli</option>
        <option>BÃ¼ro Personeli</option>
        <option>BÃ¼ro Personeli (GÃ¶revlendirme)</option>
        <option>Bilgi Ä°ÅŸlem Personeli</option>
        <option>GenÃ§lik Lideri / AntrenÃ¶r</option>
        <option>YÃ¼zme AntrenÃ¶rÃ¼</option>
        <option>Cankurtaran</option>
        <option>BakÄ±m-OnarÄ±m / Teknisyen</option>
        <option>Ä°klimlendirme/Kaloriferci 12 saat Ã§alÄ±ÅŸan</option>
        <option>Ä°klimlendirme/Kaloriferci 8 saat Ã§alÄ±ÅŸan</option>
        <option>Ã–zel GÃ¼venlik GÃ¶revlisi 12 saat Ã§alÄ±ÅŸan</option>
        <option>Ã–zel GÃ¼venlik GÃ¶revlisi 8 saat Ã§alÄ±ÅŸan</option>
        <option>Havuz Suyu OperatÃ¶rÃ¼</option>
        <option>AÅŸÃ§Ä±</option>
        <option>Sekreter</option>
        <option>ÅofÃ¶r 12 saat Ã§alÄ±ÅŸan</option>
        <option>ÅofÃ¶r 8 saat Ã§alÄ±ÅŸan</option>
        <option>Resepsiyonist</option>
        <option>Muhasebeci</option>
      </select>
    </div>
    <div>
      <label>MaaÅŸ DÃ¶nemi SeÃ§iniz*</label>
      <select id="donem" onchange="donemGuncelle(this.value)">
        <option value="">MaaÅŸ DÃ¶nemi SeÃ§iniz</option>
        <option value="31">15 Ocak - 14 Åubat (31 gÃ¼n)</option>
        <option value="28">15 Åubat - 14 Mart (28 gÃ¼n)</option>
        <option value="31">15 Mart - 14 Nisan (31 gÃ¼n)</option>
        <option value="30">15 Nisan - 14 MayÄ±s (30 gÃ¼n)</option>
      </select>
      <input type="hidden" id="gun">
    </div>
    <div><label>Fiili Ã‡alÄ±ÅŸma GÃ¼n SayÄ±sÄ± Giriniz (Ä°ÅŸe gidilen gÃ¼n sayÄ±sÄ±)</label><input type="number" id="fiili" value="22" oninput="yogurtOtomatikGuncelle()"></div>
    <div><label>Hizmet YÄ±lÄ± Giriniz (696 SayÄ±lÄ± KHK iÃ§in 7 seÃ§ilir)</label><input type="number" id="hizmet" value="7"></div>
    <div class="info-note">
        <i class="fas fa-info-circle"></i> Haricen, Akdi/Hafta Tatili ve/veya Ulusal Bayram/Genel Tatil Ã§alÄ±ÅŸmasÄ± yapÄ±lmasÄ± durumunda fiili Ã§alÄ±ÅŸmaya bir gÃ¼n daha eklenmesi gerekmektedir.
    </div>
  </div>

  <div class="section-title">2. BÃ–LÃœM: Yan Haklar</div>
  <div class="grid-container">
    <div><label>Yol Ãœcreti SeÃ§iniz (Net)</label><select id="yol"><option value="4161.91">BÃ¼yÃ¼kÅŸehir Yol Ãœcreti</option><option value="2774.61">DiÄŸer Åehirler Yol Ãœcreti</option><option value="0">Yok</option></select></div>
    <div id="ikinciYemekDiv">
        <label>2. Yemek Bedeli</label>
        <button class="toggle-btn" id="yemekToggle" onclick="toggleYemekInput()">PASÄ°F (GiriÅŸ Yapmak Ä°Ã§in TÄ±kla)</button>
        <div id="ikinciYemekInputContainer">
            <input type="number" id="ikinciYemek" value="0" placeholder="GÃ¼n sayÄ±sÄ± giriniz">
        </div>
        <span class="sub-label">Ä°kinci yemek bedeli normalde 8 saat Ã§alÄ±ÅŸan ancak fazla mesai ile gÃ¼nlÃ¼k Ã§alÄ±ÅŸmasÄ±nÄ± 12 saate tamamlayanlara Ã¶denmektedir.</span>
    </div>
    <div><label>KreÅŸ YardÄ±mÄ± Ãœcreti (Net)</label>
      <select id="kres">
        <option value="0">Yok</option>
        <option value="1777">1 Ã‡ocuk</option>
        <option value="3554">2 Ã‡ocuk</option>
        <option value="5331">3 Ã‡ocuk</option>
      </select>
    </div>
    <div><label>YoÄŸurt YardÄ±mÄ± Ãœcreti (GÃ¼n)</label><input type="number" id="yogurt" value="0"></div>
  </div>

  <div class="section-title">3. BÃ–LÃœM: Mesai ve Ek Gelirler</div>
  <div class="grid-container">
    <div id="fazlaMesaiDiv"><label>Fazla Ã‡alÄ±ÅŸma veya Akdi Tatil Ã‡alÄ±ÅŸmasÄ± Giriniz (Saat)</label><input type="number" id="fazla" value="0"></div>
    <div><label>Gece Ã‡alÄ±ÅŸmasÄ± Giriniz (Saat)</label><input type="number" id="gece" value="0"></div>
    <div><label>Ulusal Bayram/Genel Tatil Ã‡alÄ±ÅŸmasÄ± Giriniz (GÃ¼n)</label><input type="number" id="ubgt" value="0"></div>
    <div><label>Akdi Tatil / Hafta Tatili Ã‡alÄ±ÅŸmasÄ± Giriniz (GÃ¼n)</label><input type="number" id="akdi" value="0"></div>
  </div>

  <div class="section-title">4. BÃ–LÃœM: YardÄ±m ve Tazminatlar</div>
  <div class="grid-container">
    <div><label>DoÄŸum YardÄ±mÄ±</label><select id="dogum"><option value="0">Yok</option><option value="1150.90">Var (BrÃ¼t)</option></select></div>
    <div><label>Ã–lÃ¼m YardÄ±mÄ±</label><select id="olum"><option value="0">Yok</option><option value="5802.80">Ä°ÅŸÃ§inin Ã–lÃ¼mÃ¼</option><option value="3482.32">Aileden Ã–lÃ¼m</option><option value="9283.71">Ä°ÅŸ KazasÄ±</option></select></div>
    <div><label>DoÄŸal Afet YardÄ±mÄ±</label><select id="afet"><option value="0">Yok</option><option value="1988.35">Var (BrÃ¼t)</option></select></div>
  </div>

  <div class="section-title">5. BÃ–LÃœM: Vergi ve Ã–zel Durum Bilgileri</div>
  <div class="grid-container">
    <div><label>Engellilik Ä°ndirimi SeÃ§iniz</label>
      <select id="engelli">
        <option value="0">Yok</option>
        <option value="12000">1. Derece</option>
        <option value="7000">2. Derece</option>
        <option value="3000">3. Derece</option>
      </select>
    </div>
    <div><label>Gazi, Åehit YakÄ±nÄ±, TerÃ¶r MaÄŸduru</label><select id="gazi"><option value="0">HayÄ±r</option><option value="1">Evet</option></select></div>
    <div><label>Ã–zel SaÄŸlÄ±k SigortasÄ± (Ã–denen Tutar)</label><input type="number" id="oss" value="0"></div>
  </div>

  <button onclick="hesapla()">MAAÅ HESAPLA</button>

  <div class="net-tutar-card" id="sonucAlani" style="display:none;">
    <div class="net-tutar-title">Ã–denecek Net Tutar</div>
    <div class="net-tutar-rakam" id="toplamNet">0.00 TL</div>
  </div>

  <button onclick="detayGoster()" style="background: #444; margin-top: 15px; padding: 12px;">Detay GÃ¶ster / Gizle</button>
  <div id="sonuc" style="display:none"></div>
  
  <div class="footer-note">Â© 2026 Koop-Ä°ÅŸ GSB Robotu | Son GÃ¼ncelleme: 28 Åubat 2026</div>
</div>
</div>

<script>
function donemGuncelle(val) {
    document.getElementById("gun").value = val;
    let k = document.getElementById("kadro").value;
    let is12 = k.includes("12 saat");
    let donemText = document.getElementById("donem").options[document.getElementById("donem").selectedIndex].text;

    if(donemText.includes("14 Mart")) {
        document.getElementById("fiili").value = is12 ? 15 : 20;
    } else {
        document.getElementById("fiili").value = is12 ? 16 : 22;
    }

    // 14 Nisan ve 14 MayÄ±s seÃ§ildiÄŸinde vergi dilimi %20 olsun
    if(donemText.includes("14 Nisan") || donemText.includes("14 MayÄ±s")){
        document.getElementById("vergiOrani").selectedIndex = 1; // 2. Dilim %20
    }

    yogurtOtomatikGuncelle();
}
function yogurtOtomatikGuncelle() {
    let k = document.getElementById("kadro").value;
    let fiiliG = document.getElementById("fiili").value;
    let yogurtKadro = ["YÃ¼zme AntrenÃ¶rÃ¼","Cankurtaran","Havuz Suyu OperatÃ¶rÃ¼","Ä°klimlendirme/Kaloriferci 12 saat Ã§alÄ±ÅŸan","Ä°klimlendirme/Kaloriferci 8 saat Ã§alÄ±ÅŸan"];
    
    if(yogurtKadro.includes(k)) {
        document.getElementById("yogurt").value = fiiliG;
    }
}

function toggleYemekInput() {
    const btn = document.getElementById("yemekToggle");
    const container = document.getElementById("ikinciYemekInputContainer");
    const input = document.getElementById("ikinciYemek");
    
    if (container.style.display === "none" || container.style.display === "") {
        container.style.display = "block";
        btn.innerHTML = "AKTÄ°F (Kapatmak Ä°Ã§in TÄ±kla)";
        btn.classList.add("active");
    } else {
        container.style.display = "none";
        btn.innerHTML = "PASÄ°F (GiriÅŸ Yapmak Ä°Ã§in TÄ±kla)";
        btn.classList.remove("active");
        input.value = 0;
    }
}

function kontrol(){
  if(document.getElementById("sifre").value==="gsbkoopis"){
    document.getElementById("giris").style.display="none";
    document.getElementById("icerik").style.display="block";
  }else{ alert("Åifre yanlÄ±ÅŸ."); }
}

function kadroGuncelle(){
  let k = document.getElementById("kadro").value;
  let is12 = k.includes("12 saat");
  document.getElementById("fazlaMesaiDiv").style.display = is12 ? "none" : "block";
  document.getElementById("ikinciYemekDiv").style.display = is12 ? "none" : "block";
  
  let donemText = document.getElementById("donem").options[document.getElementById("donem").selectedIndex].text;
  if(donemText.includes("14 Mart")) {
      document.getElementById("fiili").value = is12 ? 15 : 20;
  } else {
      document.getElementById("fiili").value = is12 ? 16 : 22;
  }
  
  let yogurtKadro = ["YÃ¼zme AntrenÃ¶rÃ¼","Cankurtaran","Havuz Suyu OperatÃ¶rÃ¼","Ä°klimlendirme/Kaloriferci 12 saat Ã§alÄ±ÅŸan","Ä°klimlendirme/Kaloriferci 8 saat Ã§alÄ±ÅŸan"];
  document.getElementById("yogurt").value = yogurtKadro.includes(k) ? document.getElementById("fiili").value : 0;
}

function hesapla(){
  if(!kadro.value || !gun.value){alert("LÃ¼tfen Kadro ve DÃ¶nem seÃ§iniz!"); return;}
  let vKat = parseFloat(document.getElementById("vergiOrani").value);
  let vYuzde = parseFloat(document.getElementById("vergiOrani").options[document.getElementById("vergiOrani").selectedIndex].getAttribute("data-val"));
  let bYev = parseFloat(document.getElementById("brutYevmiye").value);
  let gunSay = parseInt(document.getElementById("gun").value);
  let fiiliG = parseInt(document.getElementById("fiili").value);
  let hizmetYili = parseInt(document.getElementById("hizmet").value);
  let donemText = document.getElementById("donem").options[document.getElementById("donem").selectedIndex].text;
  let kadroSecimi = document.getElementById("kadro").value;
  
  let detay = []; let toplam = 0;
  const ekle = (label, tutar, note="", isAidat=false) => { 
    if(tutar !== 0 || note !== "" || isAidat) { 
        detay.push({label, tutar, note, isAidat});
        toplam += tutar; 
    } 
  };
  
  ekle(`Yevmiye (${gunSay} GÃ¼n)`, bYev * gunSay * vKat);
  ekle("Yol Ãœcreti", parseFloat(document.getElementById("yol").value));
  let yemekBirim = kadro.value.includes("12 saat") ? 527.94 : 263.97;
  let yemekEtiket = kadro.value.includes("12 saat") ? "Ã‡ift Yemek Bedeli (" + fiiliG + " GÃ¼n)" : "Yemek Bedeli (" + fiiliG + " GÃ¼n)";
  ekle(yemekEtiket, yemekBirim * fiiliG);
  
  if(!kadro.value.includes("12 saat") && document.getElementById("ikinciYemek").value > 0){
    let ekYemekGun = parseFloat(document.getElementById("ikinciYemek").value);
    ekle("2. Yemek Bedeli (" + ekYemekGun + " GÃ¼n)", yemekBirim * ekYemekGun);
  }
  
  ekle("KreÅŸ YardÄ±mÄ± (Net)", parseFloat(document.getElementById("kres").value));
  ekle("Sosyal YardÄ±m", 4467.22 * vKat);
  
  // PRÄ°M MANTIÄI: BÃœRO PERSONELÄ° (GÃ–REVLENDÄ°RME) VE TEMÄ°ZLÄ°K %8, DÄ°ÄERLERÄ° %9
  let primOran = (kadroSecimi === "Temizlik Personeli" || kadroSecimi === "BÃ¼ro Personeli (GÃ¶revlendirme)") ? 0.08 : 0.09;
  
  ekle("Ä°ÅŸ Primi (%" + (primOran*100) + ")", bYev * primOran * fiiliG * vKat);
  ekle("Hizmet ZammÄ± (" + hizmetYili + " YÄ±l)", hizmetYili * 20.90 * vKat);
  if(document.getElementById("yogurt").value > 0) {
      let yogurtGun = parseFloat(document.getElementById("yogurt").value);
      ekle("YoÄŸurt YardÄ±mÄ± (" + yogurtGun + " GÃ¼n)", yogurtGun * 64.25 * vKat);
  }
  
  if(document.getElementById("gece").value > 0) {
      let geceSaat = parseFloat(document.getElementById("gece").value);
      ekle("Gece ZammÄ± (" + geceSaat + " Saat)", (bYev / 7.5) * 0.08 * geceSaat * vKat);
  }
  
  ekle("Giyim YardÄ±mÄ±", 238.82 * vKat);
  
  let dV = 0.00759;
  if(document.getElementById("dogum").value > 0) { let bD = parseFloat(document.getElementById("dogum").value); ekle("DoÄŸum YardÄ±mÄ±", bD - (bD * dV)); }
  if(document.getElementById("olum").value > 0) { let bO = parseFloat(document.getElementById("olum").value); ekle("Ã–lÃ¼m YardÄ±mÄ±", bO - (bO * dV)); }
  if(document.getElementById("afet").value > 0) ekle("DoÄŸal Afet YardÄ±mÄ±", parseFloat(document.getElementById("afet").value) * vKat);
  if(!kadro.value.includes("12 saat") && document.getElementById("fazla").value > 0) {
      let fazlaSaat = parseFloat(document.getElementById("fazla").value);
      ekle("Fazla Mesai (" + fazlaSaat + " Saat)", (bYev * vKat * 2 / 7.5) * fazlaSaat);
  }
  
  if(document.getElementById("ubgt").value > 0) {
      let ubgtGun = parseFloat(document.getElementById("ubgt").value);
      ekle("UBGT (" + ubgtGun + " GÃ¼n)", (bYev * vKat * 2) * ubgtGun);
  }
  
  if(document.getElementById("akdi").value > 0) {
      let akdiGun = parseFloat(document.getElementById("akdi").value);
      ekle("Akdi/Hafta Tatili (" + akdiGun + " GÃ¼n)", (bYev * vKat * 2) * akdiGun);
  }
  
  let engSelect = document.getElementById("engelli");
  let engVal = parseFloat(engSelect.value);
  if(engVal > 0) ekle("Engellilik Ä°ndirimi", engVal * vYuzde);
  if(document.getElementById("gazi").value === "1") ekle("Gazi / Åehit YakÄ±nÄ±", (bYev * gunSay * 0.1) * vKat);
  
  let ossTutar = parseFloat(document.getElementById("oss").value);
  if(ossTutar > 0) ekle("Ã–zel SaÄŸlÄ±k SigortasÄ± Ä°ndirimi", ossTutar * vYuzde);
  
  let gvIndirim = 4211.32;
let dvIndirim = 250.70;
let tediyeNotuText = "";

if(donemText.includes("14 Åubat")) {
    tediyeNotuText = "(26 Ocak Tediye Mahsubu UygulanmÄ±ÅŸtÄ±r)";
    if(bYev == 2142.43) { gvIndirim = 660.24; dvIndirim = 39.31; } 
    else { gvIndirim = 711.29; dvIndirim = 42.35; }
} else if(donemText.includes("14 Nisan")) {
    gvIndirim = 0;
    dvIndirim = 0;
    tediyeNotuText = "ğŸ“Œ Not: Tediye ve ikramiye Ã¶demelerinde vergi indirimi uygulandÄ±ÄŸÄ±ndan maaÅŸa indirim uygulanmamÄ±ÅŸtÄ±r.";
}

ekle("Gelir Vergisi Ä°ndirimi", gvIndirim, tediyeNotuText);
ekle("Damga Vergisi Ä°ndirimi", dvIndirim, tediyeNotuText);
  let brutAidat = bYev * 0.65;
  let netAidat = (brutAidat - (brutAidat * vYuzde)) * -1;
  ekle("Sendika Aidat Kesintisi %65", netAidat, "", true);
  document.getElementById("toplamNet").innerHTML = "ğŸ’° " + toplam.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2}) + " TL";
  document.getElementById("sonucAlani").style.display = "block";
  window.detayData = detay;
  window.hesaplananKadro = document.getElementById("kadro").value;
  window.hesaplananDonem = donemText;
  if(document.getElementById("sonuc").style.display === "block") tabloCiz();
}

function tabloCiz(){
  let html = `<div class="receipt-container">
    <div class="receipt-header">
        <div style="font-weight: 900; font-size: 16px;">GSB MAAÅ BORDRO FÄ°ÅÄ°</div>
        <div style="font-size: 11px; margin-top:5px;">${window.hesaplananKadro}</div>
        <div style="font-size: 10px;">DÃ¶nem: ${window.hesaplananDonem}</div>
    </div>`;
  window.detayData.forEach(d => {
    let rowClass = d.isAidat ? 'class="receipt-row aidat-row"' : 'class="receipt-row"';
    let noteStyle = d.note.includes("Tediye Mahsubu") ? 'class="tediye-notu"' : 'class="aidat-note"';

    html += `<div ${rowClass}>
        <span>${d.label} ${d.note ? '<br><small '+noteStyle+'>'+d.note+'</small>' : ''}</span>
        <span>${d.tutar.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} TL</span>
    </div>`;
  });
  let toplamTutar = window.detayData.reduce((acc, curr) => acc + curr.tutar, 0);
  html += `<div class="receipt-row receipt-total">
        <span>NET Ã–DENEN</span>
        <span>${toplamTutar.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} TL</span>
    </div>
    <div class="receipt-footer">
        KOOP-Ä°Å SENDÄ°KASI<br>Bu fiÅŸ bilgilendirme amaÃ§lÄ±dÄ±r.
    </div>
  </div>`;
  
  document.getElementById("sonuc").innerHTML = html;
}

function detayGoster(){
  let s = document.getElementById("sonuc");
  if(s.style.display === "block") s.style.display = "none";
  else { s.style.display = "block"; tabloCiz(); }
}
</script>
<!-- ===================================== -->
<!-- TEDÄ°YE & Ä°KRAMÄ°YE MODÃœLÃœ (MANUEL + NOT) -->
<!-- ===================================== -->

<style>
.mini-box{
  max-width:850px;
  margin:25px auto;
  text-align:center;
}
.mini-select{
  width:220px;
  padding:6px;
  border-radius:8px;
  margin:8px;
}
.mini-btn{
  width:auto;
  padding:8px 18px;
  font-size:12px;
  border-radius:8px;
  margin:5px;
}
.mini-result{
  margin-top:12px;
  font-weight:bold;
  font-size:15px;
  display:none;
}
.mini-note{
  color:red;
  font-size:12px;
  margin-top:4px;
}
</style>

<div class="mini-box">

  <div>
    <button class="mini-btn" onclick="gosterSecim('tediye')">16 Mart 2026 Tediye Ãœcreti Hesapla</button>
    <button class="mini-btn" onclick="gosterSecim('ikramiye')">15-20 Mart 2026 Ä°kramiye Ãœcreti Hesapla</button>
  </div>

  <br>

  <select id="miniYevmiye" class="mini-select" style="display:none" onchange="gosterRakam()">
    <option value="">Yevmiye SeÃ§iniz</option>
    <option value="0">2142,43 TL</option>
    <option value="1">2111,63 TL</option>
  </select>

  <div id="miniSonuc" class="mini-result"></div>
  <div id="miniNot" class="mini-note"></div>

</div>

<script>
// Manuel belirlenen rakamlar
const tediyeListesi = [23150.40, 22879.13];    // yevmiyeye gÃ¶re tediye
const ikramiyeListesi = [43257.05, 42639.78];  // yevmiyeye gÃ¶re ikramiye

let secilenButon = ""; // hangi butona tÄ±klandÄ±?

function gosterSecim(tip){
  secilenButon = tip; // 'tediye' veya 'ikramiye'
  document.getElementById("miniYevmiye").style.display = "inline-block";
  document.getElementById("miniYevmiye").value = ""; // reset
  document.getElementById("miniSonuc").style.display = "none";
  document.getElementById("miniNot").innerHTML = "";
}

function gosterRakam(){
  const index = parseInt(document.getElementById("miniYevmiye").value);
  if(isNaN(index)){
    document.getElementById("miniSonuc").style.display="none";
    document.getElementById("miniNot").innerHTML = "";
    return;
  }

  let tutar;
  let notMetni = "";
  if(secilenButon === "tediye"){
    tutar = tediyeListesi[index];
    notMetni = "ğŸ“Œ Not: Bu Tediye rakamÄ±na gelir ve damga vergisi indirimleri uygulanmÄ±ÅŸtÄ±r. Ä°kramiye rakamÄ±nÄ±n Ã¶nce hesaplanmasÄ± durumunda rakamlar deÄŸiÅŸkenlik gÃ¶sterebilecektir.";
  } else if(secilenButon === "ikramiye"){
    tutar = ikramiyeListesi[index];
    notMetni = "ğŸ“Œ Not: Bu Ä°kramiye rakamÄ±na gelir vergisi indirimi uygulanmamÄ±ÅŸtÄ±r. Sadece tediyeden kalan damga vergisi indirimi uygulanmÄ±ÅŸtÄ±r. Ä°kramiye rakamÄ± Ã¶nce hesaplanÄ±rsa yatan rakamlar deÄŸiÅŸkenlik gÃ¶sterebilecektir.";
  } else {
    return;
  }

  const alan = document.getElementById("miniSonuc");
  alan.innerHTML = secilenButon.charAt(0).toUpperCase() + secilenButon.slice(1) + ": ğŸ’° " +
    tutar.toLocaleString('tr-TR',{minimumFractionDigits:2,maximumFractionDigits:2}) + " TL";
  alan.style.display="block";

  const note = document.getElementById("miniNot");
  note.innerHTML = notMetni;
}
</script>
</script>
</body>
</html>